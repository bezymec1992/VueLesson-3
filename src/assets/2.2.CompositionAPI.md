# Vue Composition API

Composition API у Vue.js – це новий спосіб організації логіки компонентів,
який був представлений у Vue 3. Він дозволяє краще структурувати код, полегшує 
повторне використання логіки та спрощує тестування.

### Основні концепції Composition API

**1. setup():**
Головна функція, в якій визначається вся логіка компонента.
Викликається один раз при ініціалізації компонента.

**2. reactive():**
Створює реактивний об'єкт, який відстежує зміни його властивостей.
Використовується для управління станом компонента.

**3. ref():**
Створює реактивну змінну.
Використовується для простих типів даних (числа, строки, булеві значення).

**4. computed():**
Створює обчислювану властивість, яка автоматично оновлюється при зміні залежних даних.

**5. watch():**
Використовується для виконання побічних ефектів при зміні реактивних даних.


```
<template>
  <div>
    <h1>{{ message }}</h1>
    <button @click="increment">Збільшити</button>
    <p>Лічильник: {{ counter }}</p>
  </div>
</template>

<script>
import { ref, reactive, computed, watch } from 'vue';

export default {
  name: 'ExampleComponent',
  setup() {
    // Використання ref для простої реактивної змінної
    const message = ref('Привіт, Vue 3!');

    // Використання reactive для складного об'єкта
    const state = reactive({
      counter: 0
    });

    // Обчислювана властивість
    const doubleCounter = computed(() => state.counter * 2);

    // Метод для збільшення лічильника
    const increment = () => {
      state.counter++;
    };

    // Спостерігач за зміною лічильника
    watch(
      () => state.counter,
      (newVal, oldVal) => {
        console.log(`Лічильник змінився з ${oldVal} на ${newVal}`);
      }
    );

    return {
      message,
      state,
      doubleCounter,
      increment
    };
  }
}
</script>

<style scoped>
button {
  margin-top: 10px;
}
</style>
```

#### Пояснення

**setup():**
Це головна функція, в якій ми визначаємо логіку компонента. Все, що повертається з setup, доступне в шаблоні компонента.

**ref():**
Використовується для створення реактивної змінної message.
```const message = ref('Привіт, Vue 3!'); створює реактивну змінну зі значенням "Привіт, Vue 3!". ```

**reactive():**
Використовується для створення реактивного об'єкта state.
```const state = reactive({ counter: 0 }); створює реактивний об'єкт зі властивістю counter.```

**computed():**
Створює обчислювану властивість doubleCounter, яка завжди містить подвоєне значення state.counter.
```const doubleCounter = computed(() => state.counter * 2); визначає обчислювану властивість.```

**watch():**
Спостерігає за змінами state.counter і виконує функцію щоразу, коли значення змінюється.
```watch(() => state.counter, (newVal, oldVal) => {...}) реєструє спостерігача.```

**Методи:**
Метод increment збільшує значення state.counter на 1.
```const increment = () => { state.counter++; };```

##### Більш детальний приклад

```
CompositionApiFormExample.vue

<template>
  <div>
    <h1>{{ title }}</h1>
    <input v-model="formData.name" placeholder="Введіть ім'я" />
    <input v-model="formData.age" type="number" placeholder="Введіть вік" />
    <p>Ім'я: {{ formData.name }}</p>
    <p>Вік: {{ formData.age }}</p>
    <button @click="submitForm">Надіслати</button>
  </div>
</template>

<script>
import { ref, reactive, toRefs } from 'vue';

export default {
  name: 'FormComponent',
  setup() {
    const title = ref('Форма з Composition API');
    const formData = reactive({
      name: '',
      age: null
    });

    const submitForm = () => {
      alert(`Ім'я: ${formData.name}, Вік: ${formData.age}`);
    };

    return {
      title,
      ...toRefs(formData),
      submitForm
    };
  }
}
</script>

<style scoped>
input {
  display: block;
  margin: 10px 0;
}
button {
  margin-top: 10px;
}
</style>

```

##### Пояснення
**ref():**
Використовується для простої реактивної змінної title.

**reactive():**
Використовується для створення реактивного об'єкта formData.

**toRefs():**
Використовується для перетворення реактивного об'єкта в об'єкт, де кожна властивість є ref.
Це дозволяє легко використовувати реактивні об'єкти у шаблонах з v-model.
Метод submitForm:

Викликається при натисканні кнопки і показує значення **formData** через **alert**.
